tasks:
  - schema: load_microstructure_EBSD_DIC
    inputs:
      transform_type: affine
      root_path: <<demo_data_file:defdap_small_dataset>>
      scaling_factor: 0.5
      DIC:
        filename: dic_data.txt
        crop: [15, 28, 30, 15] # optional
        scale: 1.328e-2 # microns per pixel, optional
        min_grain_size: 20 # optional
        homog_points:
          - [452, 322]
          - [200, 417]
          - [159, 144]
          - [352, 269]
          - [102, 33]
          - [500, 48]
          - [295, 245]
          - [176, 437]
          - [61, 382]
          - [391, 398]
          - [240, 208]
      EBSD:
        filename: ebsd_data
        flip_vert: true # optional
        boundary_tol: 8 # optional
        min_grain_size: 10 # optional
        homog_points:
          - [780, 606]
          - [374, 816]
          - [285, 385]
          - [612, 543]
          - [186, 218]
          - [839, 149]
          - [516, 519]
          - [335, 856]
          - [145, 794]
          - [686, 743]
          - [424, 470]

  - schema: generate_volume_element_extrusion
    inputs:
      depth: 8
      image_axes: ["y", "x"]
      homog_label: SX
      phase_label: Ti

  - schema: visualise_VE_VTK

  - schema: modify_VE_add_buffer_zones
    inputs:
      buffer_sizes: [4, 4, 4, 4, 2, 2] # size of buffer on each face [-x, +x, -y, +y, -z, +z]
      phase_ids: [1, 1, 1, 1, 2, 2] # phase of each buffer. Relative, so 1 is the first new phase and so on
      phase_labels: ["Ti_iso", "Air"] #Â labels of the new phases
      homog_label: SX
      order: ["z", "y", "x"] # order to add the zones, default [x, y, z]

  - schema: visualise_VE_VTK
